
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸŒ¿ Ù†Ø¸Ø§Ù… Ù†ÙØ³Ù…Ø© â€” Ù„ÙˆØ­Ø© Ø§Ù„Ø³Ø­Ø§Ø¨Ø©</title>
  <style>
    body { font-family:"Cairo",sans-serif; background:linear-gradient(to right,#d4fc79,#96e6a1);
           text-align:center; padding:30px; color:#222; }
    h1 { color:#2b4a2f; font-size:2.2rem; }
    .sensor-box { display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
                  gap:15px; margin-top:20px; }
    .card { background:#fff; padding:20px; border-radius:16px;
            box-shadow:0 4px 12px rgba(0,0,0,0.1); transition:transform .3s; }
    .card:hover { transform:scale(1.05); }
    .value { font-size:1.8rem; color:#00796b; margin-top:5px; }
    .aroma { margin-top:40px; font-size:3rem; color:#5d4037; }
    .status { margin-top:10px; font-size:1.3rem; font-weight:bold; }
    footer { margin-top:40px; font-size:.9rem; color:#555; }
  </style>
</head>
<body>

  <h1>ğŸŒ¿ Ù†Ø¸Ø§Ù… Ù†ÙØ³Ù…Ø© â€” Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø© Ø¹Ø¨Ø± Blynk Cloud</h1>

  <div class="sensor-box">
    <div class="card"><h3>Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø© ğŸŒ¡ï¸</h3><div class="value" id="temp">--</div></div>
    <div class="card"><h3>Ø§Ù„Ø±Ø·ÙˆØ¨Ø© ğŸ’§</h3><div class="value" id="hum">--</div></div>
    <div class="card"><h3>Ø§Ù„ØºØ§Ø² ğŸŒ¬ï¸</h3><div class="value" id="air">--</div></div>
    <div class="card"><h3>Ø§Ù„ØµÙˆØª ğŸ”Š</h3><div class="value" id="sound">--</div></div>
  </div>

  <div class="aroma" id="aromaIcon">ğŸŒ¸</div>
  <div class="status" id="aromaText">Ø±Ø§Ø¦Ø­Ø© Ø§Ù„Ù…Ø³Ùƒ</div>
  <footer>â˜ï¸ ÙŠØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ« ÙƒÙ„ Ø«Ø§Ù†ÙŠØ© Ù…Ù† Blynk Cloud</footer>

  <script>
    // Ø¶Ø¹ Ù‡Ù†Ø§ Ø±Ù…Ø² Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù…Ù† Blynk
    const BLYNK_TOKEN = "-ai-diLYLYrrN9S3jeuDyLD9LKdc_sDZ";

    async function updateSensors() {
      try {
        const res = await fetch(`https://blynk.cloud/external/api/get?token=${BLYNK_TOKEN}&V1&V2&V3&V4`);
        if (!res.ok) throw new Error("Network error");
        const data = await res.json();

        const temp = parseFloat(data.V1);
        const hum = parseFloat(data.V2);
        const air = parseInt(data.V3);
        const sound = parseInt(data.V4);

        document.getElementById("temp").textContent = temp.toFixed(1) + " Â°C";
        document.getElementById("hum").textContent = hum.toFixed(1) + " %";
        document.getElementById("air").textContent = air;
        document.getElementById("sound").textContent = sound;

        const aromaIcon = document.getElementById("aromaIcon");
        const aromaText = document.getElementById("aromaText");
        if (sound >= 690) { aromaIcon.textContent = "â˜•"; aromaText.textContent = "Ø±Ø§Ø¦Ø­Ø© Ø§Ù„Ù‚Ù‡ÙˆØ©"; }
        else if (sound >= 680) { aromaIcon.textContent = "ğŸªµ"; aromaText.textContent = "Ø±Ø§Ø¦Ø­Ø© Ø§Ù„Ø¹ÙˆØ¯"; }
        else { aromaIcon.textContent = "ğŸŒ¸"; aromaText.textContent = "Ø±Ø§Ø¦Ø­Ø© Ø§Ù„Ù…Ø³Ùƒ"; }

      } catch (err) {
        console.error("âŒ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø³Ø­Ø§Ø¨Ø©:", err);
      }
    }

    setInterval(updateSensors, 1000);
    updateSensors();
  </script>
</body>
</html>
